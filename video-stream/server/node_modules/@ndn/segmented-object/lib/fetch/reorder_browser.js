/** Reorder items according to their index numbers. */
export class Reorder {
    constructor(first = 0) {
        this.buffer = new Map();
        this.next = first;
    }
    /** Return number of items in buffer. */
    get size() { return this.buffer.size; }
    /** Determine whether buffer is empty, i.e. all items emitted. */
    get empty() { return this.buffer.size === 0; }
    /** Add a new item, and return in-order items. */
    push(index, obj) {
        if (index >= this.next) {
            this.buffer.set(index, obj);
        }
        return this.pop();
    }
    pop() {
        const result = [];
        let obj;
        while ((obj = this.buffer.get(this.next)) !== undefined) {
            result.push(obj);
            this.buffer.delete(this.next++);
        }
        return result;
    }
}
