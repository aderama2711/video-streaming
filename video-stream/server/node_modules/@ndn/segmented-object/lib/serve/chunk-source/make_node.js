import { __importDefault, __importStar } from "tslib";
import _cjsDefaultImport0 from "is-stream"; const { readable: isReadableStream } = __importStar(_cjsDefaultImport0);
import { BufferChunkSource } from "./buffer_node.js";
import { IterableChunkSource } from "./iterable_node.js";
import { StreamChunkSource } from "./stream_node.js";
/**
 * Create a chunk source, auto detecting input type.
 *
 * Use of this function is discouraged as it pulls in ChunkSource implementations not needed by
 * your application. It's recommended to construct a ChunkSource implementation directly.
 */
export function makeChunkSource(input, opts = {}) {
    if (input instanceof Uint8Array) {
        return new BufferChunkSource(input, opts);
    }
    if (isReadableStream(input)) {
        return new StreamChunkSource(input, opts);
    }
    return new IterableChunkSource(input, opts);
}
